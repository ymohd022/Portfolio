<section class="contact-section">
  <div class="container">
    <h2 class="section-title" [@fadeInUp]>
      <span class="title-text">Contact Me</span>
      <div class="title-line"></div>
    </h2>
    
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form" [@fadeInUp]>
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Name</mat-label>
        <input 
          matInput
          formControlName="name"
          placeholder="Your Name"
        >
        <mat-error *ngIf="contactForm.get('name')?.invalid">
          {{ getErrorMessage('name') }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Email</mat-label>
        <input 
          matInput
          type="email" 
          formControlName="email"
          placeholder="Your Email"
        >
        <mat-error *ngIf="contactForm.get('email')?.invalid">
          {{ getErrorMessage('email') }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Subject</mat-label>
        <input 
          matInput
          formControlName="subject"
          placeholder="Subject"
        >
        <mat-error *ngIf="contactForm.get('subject')?.invalid">
          {{ getErrorMessage('subject') }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Message</mat-label>
        <textarea 
          matInput
          formControlName="message"
          placeholder="Your Message"
          rows="6"
        ></textarea>
        <mat-error *ngIf="contactForm.get('message')?.invalid">
          {{ getErrorMessage('message') }}
        </mat-error>
      </mat-form-field>

      <button 
        mat-raised-button
        color="primary"
        type="submit" 
        [disabled]="contactForm.invalid || isSubmitting"
        class="submit-btn"
      >
        <mat-spinner diameter="20" *ngIf="isSubmitting"></mat-spinner>
        <span *ngIf="!isSubmitting">Send Message</span>
      </button>
    </form>
  </div>
</section>